<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch API</title>
  </head>
  <body>
    <form id="myform">
      Title <input type="text" id="title" /><br /><br />
      body
      <input type="text" id="body" /><br /><br />
      ID <input type="text" id="userId" /> <br /><br /><button id="save">
        Submit
      </button>
    </form>

    <script>
      // fetch("./readme.txt")
      //   .then((response) => {
      //     // console.log(response);
      //     // console.log(response.text());// text() is used becuz its a text format for json format u will use json()
      //     return response.text();
      //   })
      //   .then((data) => {
      //     console.log(data);
      //   });

      // fetch("https://jsonplaceholder.typicode.com/users")
      //   .then((response) => response.json())
      //   .then((data) => console.log(data))
      //   .catch((error) => console.log(error));

      // fetch("https://jsonplaceholder.typicode.com/users")
      //   .then((response) => response.json())
      //   .then((data) => {
      //     console.log(data);

      //     for (const i in data) {
      //       document.write(
      //         `Name: ${data[i].name} City: ${data[i].address.city} e-mail: ${data[i].email} <br><br>`
      //       );
      //     }
      //   })
      //   .catch((error) => console.log(error));

      // fetch("https://jsonplaceholder.typicode.com/posts", {
      //   method: "POST", // inserting data
      //   body: JSON.stringify({
      //     title: "foo",
      //     body: "bar",
      //     userId: 1,
      //   }),
      //   headers: {
      //     "Content-type": "application/json; charset=UTF-8",
      //   },
      // })
      //   .then((response) => response.json())
      //   .then((json) => console.log(json));

      // fetch("https://jsonplaceholder.typicode.com/posts/1", {
      //   method: "PUT", //Updating data
      //   body: JSON.stringify({
      //     id: 1,
      //     title: "foo",
      //     body: "bar",
      //     userId: 1,
      //   }),
      //   headers: {
      //     "Content-type": "application/json; charset=UTF-8",
      //   },
      // })
      //   .then((response) => response.json())
      //   .then((json) => console.log(json));

      // fetch("https://jsonplaceholder.typicode.com/posts/1", {
      //   method: "DELETE", //deleting data
      // });

      //
      // document.getElementById("save").addEventListener("click", (e) => {
      //   e.preventDefault();
      //   fetch("https://jsonplaceholder.typicode.com/posts", {
      //     method: "POST",
      //     body: JSON.stringify({
      //       title: document.getElementById("title").value,
      //       body: document.getElementById("body").value,
      //       userId: document.getElementById("userId").value,
      //     }),
      //     headers: {
      //       "Content-type": "application/json; charset=UTF-8",
      //     },
      //   })
      //     .then((response) => response.json())
      //     .then((json) => console.log(json));
      // });

      document.getElementById("save").addEventListener("click", (e) => {
        e.preventDefault();
        fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          body: new FormData(document.getElementById("myform")),
          headers: {
            "Content-type": "application/x-www-form-urlencoded",
          },
        })
          .then((response) => response.json())
          .then((json) => console.log(json));
      });
    </script>
  </body>
</html>
